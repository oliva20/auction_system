/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
create table Auction (id bigint generated by default as identity (start with 1), auctionStatus integer, auctionType integer, auctionuuid varchar(255), description varchar(255), lotDuration bigint, startTime timestamp, primary key (id))
create table Auction_Lot (Auction_id bigint not null, lots_id bigint not null)
create table Auction_Party (Auction_id bigint not null, registeredPartys_id bigint not null)
create table Bid (id bigint not null, amount double, bidderuuid varchar(255), biduuid varchar(255), time timestamp, bidder_id bigint, lot_id bigint, primary key (id))
create table Lot (id bigint not null, auctionType integer, currentBidderUuid varchar(255), currentLotStart timestamp, currentPrice double, lotDuraton bigint, lotStatus integer, lotuuid varchar(255), quantity bigint, reservePrice double, soldPrice double, buyer_id bigint, seller_id bigint, winningBid_id bigint, primary key (id))
create table Lot_Bid (Lot_id bigint not null, bids_id bigint not null)
create table Party (id bigint generated by default as identity (start with 1), account varchar(255), sortCode varchar(255), addressLine1 varchar(255), addressLine2 varchar(255), country varchar(255), county varchar(255), latitude double, longitude double, mobile varchar(255), number varchar(255), postcode varchar(255), telephone varchar(255), enabled boolean, firstName varchar(255), partyRole integer, partyStatus integer, secondName varchar(255), uuid varchar(255), primary key (id))
create table role (id bigint not null, name varchar(255), primary key (id))
create table user (id bigint not null, addressLine1 varchar(255), addressLine2 varchar(255), country varchar(255), county varchar(255), latitude double, longitude double, mobile varchar(255), number varchar(255), postcode varchar(255), telephone varchar(255), enabled boolean, firstName varchar(255), password varchar(255), secondName varchar(255), username varchar(255), primary key (id))
create table user_party (user_id bigint not null, party_id bigint not null, primary key (user_id, party_id))
create table user_role (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id))
alter table Auction_Lot add constraint UK_coa4u7ju4h1s2v3vaxc5fxr4k unique (lots_id)
alter table Auction_Party add constraint UK_bsqe1cgkuk2cmnp1od203lcn1 unique (registeredPartys_id)
alter table Lot_Bid add constraint UK_ppfjw263md5dd2rro8d0f7qbt unique (bids_id)
create sequence hibernate_sequence start with 1 increment by 1
alter table Auction_Lot add constraint FKjrlqkro6orcef016b80hm975r foreign key (lots_id) references Lot
alter table Auction_Lot add constraint FK3agv9h2k6pu94thhbd66pqicf foreign key (Auction_id) references Auction
alter table Auction_Party add constraint FK7gc6ylkr2gnkr4pt4pb6o69n5 foreign key (registeredPartys_id) references Party
alter table Auction_Party add constraint FK83ors700y059x0f6rq8e3d6v1 foreign key (Auction_id) references Auction
alter table Bid add constraint FK1jly62xai8jeqck7g230c1epg foreign key (bidder_id) references Party
alter table Bid add constraint FK5i53m7onir83p57twgahdp9h5 foreign key (lot_id) references Lot
alter table Lot add constraint FKidl700kbcn3pybl8muij5mlfc foreign key (buyer_id) references Party
alter table Lot add constraint FKqcfuyd4qfhn07hcsabkjwytr5 foreign key (seller_id) references Party
alter table Lot add constraint FK68uatpry6l6xlkgxphfcil2hx foreign key (winningBid_id) references Bid
alter table Lot_Bid add constraint FKd6pgeuhraxa7qgjqbbh1m0fk5 foreign key (bids_id) references Bid
alter table Lot_Bid add constraint FKib423ivfjemw0kfx46lu3q0xf foreign key (Lot_id) references Lot
alter table user_party add constraint FKj9s6s0qnompwaaon3d656ydvr foreign key (party_id) references user
alter table user_party add constraint FK6lq5t9k9krv5w821qqkulyp82 foreign key (user_id) references Party
alter table user_role add constraint FKa68196081fvovjhkek5m97n3y foreign key (role_id) references role
alter table user_role add constraint FK859n2jvi8ivhui0rl0esws6o foreign key (user_id) references user
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
ROLLBACK
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
ROLLBACK
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
ROLLBACK
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 6
DISCONNECT
