/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
create table Auction (id bigint generated by default as identity (start with 1), auctionType integer, startTime timestamp, type integer, primary key (id))
create table Auction_Lot (Auction_id bigint not null, lots_id bigint not null, primary key (Auction_id, lots_id))
create table Bid (id bigint not null, partyId bigint, timeStamp timestamp, value double, lot_id bigint, primary key (id))
create table Lot (id bigint not null, duration integer, grade varchar(255), highestBidPrice double, life_days integer, pickdate timestamp, quantity integer, reservedPrice double, primary key (id))
create table Lot_Bid (Lot_id bigint not null, bids_id bigint not null, primary key (Lot_id, bids_id))
create table Party (id bigint generated by default as identity (start with 1), addressLine1 varchar(255), addressLine2 varchar(255), country varchar(255), county varchar(255), latitude double, longitude double, mobile varchar(255), number varchar(255), postcode varchar(255), telephone varchar(255), enabled boolean, firstName varchar(255), partyRole integer, partyStatus integer, secondName varchar(255), uuid varchar(255), primary key (id))
create table role (id bigint not null, name varchar(255), primary key (id))
create table user (id bigint not null, addressLine1 varchar(255), addressLine2 varchar(255), country varchar(255), county varchar(255), latitude double, longitude double, mobile varchar(255), number varchar(255), postcode varchar(255), telephone varchar(255), enabled boolean, firstName varchar(255), password varchar(255), secondName varchar(255), username varchar(255), primary key (id))
create table user_party (user_id bigint not null, party_id bigint not null, primary key (user_id, party_id))
create table user_role (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id))
alter table Auction_Lot add constraint UK_coa4u7ju4h1s2v3vaxc5fxr4k unique (lots_id)
alter table Lot_Bid add constraint UK_ppfjw263md5dd2rro8d0f7qbt unique (bids_id)
create sequence hibernate_sequence start with 1 increment by 1
alter table Auction_Lot add constraint FKjrlqkro6orcef016b80hm975r foreign key (lots_id) references Lot
alter table Auction_Lot add constraint FK3agv9h2k6pu94thhbd66pqicf foreign key (Auction_id) references Auction
alter table Bid add constraint FK5i53m7onir83p57twgahdp9h5 foreign key (lot_id) references Lot
alter table Lot_Bid add constraint FKd6pgeuhraxa7qgjqbbh1m0fk5 foreign key (bids_id) references Bid
alter table Lot_Bid add constraint FKib423ivfjemw0kfx46lu3q0xf foreign key (Lot_id) references Lot
alter table user_party add constraint FKj9s6s0qnompwaaon3d656ydvr foreign key (party_id) references user
alter table user_party add constraint FK6lq5t9k9krv5w821qqkulyp82 foreign key (user_id) references Party
alter table user_role add constraint FKa68196081fvovjhkek5m97n3y foreign key (role_id) references role
alter table user_role add constraint FK859n2jvi8ivhui0rl0esws6o foreign key (user_id) references user
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
ROLLBACK
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
ROLLBACK
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
